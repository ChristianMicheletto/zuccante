## es_002_memory_registers

In questo secondo esempio esamineremo i registri e proveremo i breakpoint in fase di debug con gdb. 

Useremo l'assemblatore `yasm` e l'etichetta `main` al posto di `_start` (come per nasm) in modo da usare il linker `gcc`.
```
; yasm -hf
; yasm -f elf64 -g dwarf2 <file>
; gcc <exe> <object> (we use main label)
```


### Una sessione di debug

Impareremo alcuni nuovi comandi.
```
(gdb) break 14
Breakpoint 1 at 0x4004e7: file es002_memory_registers.asm, line 14.
(gdb) info breakpoints
Num     Type           Disp Enb Address            What
1       breakpoint     keep y   0x00000000004004e7 es002_memory_registers.asm:14
(gdb) run
Starting program: /home/genji/SCUOLA/2016-2017_zuccante/materiali/src/assembly/christ/exe 

Breakpoint 1, main () at es002_memory_registers.asm:14
14	mov    eax, 100
(gdb) x $eax
0x64:	Cannot access memory at address 0x64
(gdb) p $eax
$1 = 100
(gdb) p $rax
$2 = 100
(gdb) p a
$3 = 4
(gdb) break 16
Breakpoint 2 at 0x4004f6: file es002_memory_registers.asm, line 16.
(gdb) info breakpoints 
Num     Type           Disp Enb Address            What
1       breakpoint     keep y   0x00000000004004e7 es002_memory_registers.asm:14
	breakpoint already hit 1 time
2       breakpoint     keep y   0x00000000004004f6 es002_memory_registers.asm:16
(gdb) next
next   nexti  
(gdb) c
Continuing.

Breakpoint 2, main () at es002_memory_registers.asm:16
16	mov    rax, a
(gdb) p $rax
$4 = 100
(gdb) 

```